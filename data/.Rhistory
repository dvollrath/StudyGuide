dev.off()
par(bty='n') # sets the boundaries of plots to blank
par(xaxt='n')
par(yaxt='n')
# Create a dataframe, with data on the ID of a territory
dfbig = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # longitude
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # latitude
d = c(2,2,4,2,2,4,4,4,4)) # data value for that square
rbig <- rasterFromXYZ(dfbig) # convert that data to a raster object
rbig # look at summary information on that raster
plot(rbig) # plot the raster
dev.off()
par(bty='n') # sets the boundaries of plots to blank
par(xaxt='n')
# Create a dataframe, with data on the ID of a territory
dfbig = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # longitude
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # latitude
d = c(2,2,4,2,2,4,4,4,4)) # data value for that square
rbig <- rasterFromXYZ(dfbig) # convert that data to a raster object
rbig # look at summary information on that raster
plot(rbig) # plot the raster
dev.off()
par(bty='n') # sets the boundaries of plots to blank
par(xaxt='n')
par(yaxt='n')
# Create a dataframe, with data on the ID of a territory
dfbig = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # longitude
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # latitude
d = c(2,2,4,2,2,4,4,4,4)) # data value for that square
rbig <- rasterFromXYZ(dfbig) # convert that data to a raster object
rbig # look at summary information on that raster
plot(rbig,legend=FALSE) # plot the raster
dev.off()
par(bty='n') # sets the boundaries of plots to blank
par(xaxt='n')
par(yaxt='n')
# Create a dataframe, with data on the ID of a territory
dfbig = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # longitude
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # latitude
d = c(2,2,4,2,2,4,4,4,4)) # data value for that square
rbig <- rasterFromXYZ(dfbig) # convert that data to a raster object
rbig # look at summary information on that raster
plot(rbig,legend=FALSE) # plot the raster
legend("bottom", legend = c("Territory A","Territory B"), horiz=TRUE)
# Create a dataframe, with data on the ID of a territory
dfbig = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # longitude
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # latitude
d = c(2,2,4,2,2,4,4,4,4)) # data value for that square
rbig <- rasterFromXYZ(dfbig) # convert that data to a raster object
rbig # look at summary information on that raster
plot(rbig) # plot the raster
dev.off()
# Create a dataframe, with data on the ID of a territory
dfbig = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # longitude
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # latitude
d = c(2,2,4,2,2,4,4,4,4)) # data value for that square
rbig <- rasterFromXYZ(dfbig) # convert that data to a raster object
rbig # look at summary information on that raster
plot(rbig) # plot the raster
p <- rasterToPolygons(rbig,fun=NULL,n=8,digits=3,dissolve=TRUE)
p # summary information on the shapes
plot(p) # plot the polygons
library(raster) # loads the raster package for use
dev.off()
# Create a dataframe, with data on the ID of a territory
dfbig = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # longitude
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # latitude
d = c(2,2,4,2,2,4,4,4,4)) # data value for that square
rbig <- rasterFromXYZ(dfbig) # convert that data to a raster object
rbig # look at summary information on that raster
plot(rbig) # plot the raster
# Create a polygon version of that raster
p <- rasterToPolygons(rbig,fun=NULL,n=8,digits=3,dissolve=TRUE)
p # summary information on the shapes
plot(p,add=TRUE) # plot the polygons
plot(p)
dfdata = data.frame(x = c(0, 0, 0, 1, 1, 1, 2, 2, 2), # long
y = c(0, 1, 2, 0, 1, 2, 0, 1, 2), # lat
d = c(-1,-2,5,-3,-2,4,6,3,8)) # data values
rdata <- rasterFromXYZ(dfdata) # create raster object
plot(rdata)
s <- zonal(rdata,rbig,fun='mean',digits=3,na.rm=FALSE,progress='text')
s
View(s)
p
colnames(p)[1] <- "zone"
colnames(p@data)[1] <- "zone"
p
pmerged <- merge(p,s,by="zone")
pmerged
s <- zonal(rdata,p,fun='mean',digits=3,na.rm=FALSE,progress='text')
s <- extract(rdata,p,fun='mean',na.rm=FALSE)
s <- extract(rdata,p,fun=mean)
s
z <- zonal(rdata,rbig,fun='mean',digits=3,na.rm=FALSE,progress='text')
z
s <- extract(rdata,p,fun=mean,sp=TRUE)
p
s
install.packages(c("devtools", "plotly"))
library(devtools)
install_github("ropensci/plotly")
library(plotly)
ggiris <- qplot(Petal.Width, Sepal.Length, data = iris, color = Species)
py <- plotly(username="dvollrath", key="g86hGs9hiBrHVnbWlYGr")
py <- plot_ly(username="dvollrath", key="g86hGs9hiBrHVnbWlYGr")
py$ggplotly(ggiris)
py
fig <- plot_ly(midwest, x = ~percollege, color = ~state, type = "box")
fig
source('~/Dropbox/Project/StudyGuide/code/start.r')
data("pwt9.1")
install.packages("pwt9")
data("pwt9.1")
data(pwt9.1)
df <- data("pwt9.1")
data("pwt9.1",package=pwt9)
library(pwt9)
data("pwt9.1")
force(pwt9.1)
p <- pwt9.1
p$lngdppc <- log(p$rgdpe) - log(p$pop)
newp <- p[ which(isocode=='US'),]
newp <- p[ which(p$isocode=='US'),]
newp <- p[ which(p$isocode=='USA'),]
fig <- plot_ly(newp, x = ~year, y = ~lngdppc, name = 'USA', mode = 'lines+markers')
api_create(fig, filename = "pwt-usa-lngdppc")
newp <- p[ which(p$isocode==c('USA','CAN')),]
View(newp)
newp <- p[ which(p$isocode %in% c("USA", "CAN")),]
View(newp)
fig <- plot_ly(newp, x = ~year, y = ~lngdppc, linetype = ~isocode, type = 'scatter', mode = 'lines+markers')
fig
api_create(fig, filename = "pwt-stable-lngdppc")
data("pwt9.1")
p <- pwt9.1
p$lngdppc <- log(p$rgdpna) - log(p$pop)
stable <- p[ which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[ which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
fig <- plot_ly(stable, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig %>% layout(title = 'Log GDP per capita for stable growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita'))
api_create(fig, filename = "pwt-stable-lngdppc")
fig <- plot_ly(stable, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig %>% layout(title = 'Log GDP per capita for stable growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)))
api_create(fig, filename = "pwt-stable-lngdppc")
fig <- plot_ly(stable, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig %>% layout(title = 'Log GDP per capita for stable growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)))
api_create(fig, filename = "pwt-stable-lngdppc")
fig %>% layout(title = 'Log GDP per capita for stable growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)))
fig
fig <- plot_ly(stable, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig %>% layout(title = 'Log GDP per capita for stable growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)))
fig
fig <- plot_ly(stable, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig <- layout(fig, title = 'Log GDP per capita for stable growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)))
fig
api_create(fig, filename = "pwt-stable-lngdppc")
fig <- plot_ly(catchup, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig <- layout(fig, title = 'Log GDP per capita for catch-up growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)))
api_create(fig, filename = "pwt-catchup-lngdppc")
fig <- plot_ly(catchup, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig <- layout(fig, title = 'Log GDP per capita for catch-up growth countries',
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)),
hovermode="x unified")
fig
api_create(fig, filename = "pwt-catchup-lngdppc")
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2)
stable <- p[ which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[ which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
source('~/Dropbox/Project/StudyGuide/code/start.r')
fig <- plot_ly(stable, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig <- layout(fig, title('Log GDP per capita for stable growth countries',adj=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)),
hovermode="x unified")
Sys.getenv("R_PROFILE_USER")
Sys.getenv("plotly_username")
usethis::edit_r_profile()
source('~/.Rprofile')
Sys.getenv("plotly_username")
source('~/Dropbox/Project/StudyGuide/code/start.r')
p$lag10.lngdppc <- c(NA,p$lngdppc[-nrow(p)])
View(p)
View(p)
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
setwd("~/Dropbox/project/studyguide/data")
source("~/Dropbox/Tools/.Rprofile")
library(devtools)
library(plotly)
library(pwt9)
library(dplyr)
library(OECD)
library(reshape2)
library(WDI)
# Pull PWT into dataframe
data("pwt9.1")
p <- pwt9.1 # copy dataframe for manipulation
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2) # create log GDP per capita
p$ky <- round(p$rnna/p$rgdpna,digits=2) # create K/Y ratio
p$phil <- round(p$labsh*p$rgdpna/(p$labsh*p$rgdpna+.05*p$rnna),digits=2) # create kludge cost share of labor
p <-
p %>%
group_by(isocode) %>%
mutate(lag10.lngdppc = dplyr::lag(lngdppc, n = 10, default = NA))
p$g10.lngdppc <- (p$lngdppc - p$lag10.lngdppc)/10
# subset PWT into stable and catchup groups
stable <- p[which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
test <- p[which(p$isocode %in% c("ETH", "ZAF","BWA")),]
all <- p[which(p$isocode %in% c("USA", "MEX", "DEU","JPN","KOR","CHN")),]
fig <- plot_ly(all, x = ~csh_g, y = ~g10.lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and growth', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig <- plot_ly(all, x = ~csh_g, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and growth', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
fig
# Pull PWT into dataframe
data("pwt9.1")
p <- pwt9.1 # copy dataframe for manipulation
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2) # create log GDP per capita
p$ky <- round(p$rnna/p$rgdpna,digits=2) # create K/Y ratio
p$phil <- round(p$labsh*p$rgdpna/(p$labsh*p$rgdpna+.05*p$rnna),digits=2) # create kludge cost share of labor
p <-
p %>%
group_by(isocode) %>%
mutate(lag10.lngdppc = dplyr::lag(lngdppc, n = 10, default = NA))
p$g10.lngdppc <- (p$lngdppc - p$lag10.lngdppc)/10
# subset PWT into stable and catchup groups
stable <- p[which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
test <- p[which(p$isocode %in% c("ETH", "ZAF","BWA")),]
all <- p[which(p$isocode %in% c("USA", "MEX", "DEU","JPN","KOR","CHN")),]
fig <- plot_ly(all, x = ~csh_g, y = ~g10.lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and growth', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-cshg-growth")
fig <- plot_ly(all, x = ~csh_g, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and growth', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
api_create(fig, filename = "pwt-test-chsg-level")
fig <- plot_ly(all, x = ~csh_g, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and level of GDP per capita', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
api_create(fig, filename = "pwt-test-chsg-level")
us <- p[which(p$isocode %in% c("USA")),]
fig <- plot_ly(us, x = ~year, y = ~g10.lngdppc, type = 'scatter', mode='lines+markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Growth rate', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
# Pull PWT into dataframe
data("pwt9.1")
p <- pwt9.1 # copy dataframe for manipulation
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2) # create log GDP per capita
p$ky <- round(p$rnna/p$rgdpna,digits=2) # create K/Y ratio
p$phil <- round(p$labsh*p$rgdpna/(p$labsh*p$rgdpna+.05*p$rnna),digits=2) # create kludge cost share of labor
p <-
p %>%
group_by(isocode) %>%
mutate(lag10.lngdppc = dplyr::lag(lngdppc, n = 10, default = NA))
p$g10.lngdppc <- (p$lngdppc - p$lag10.lngdppc)/10
p$lagyear <- year-10
# subset PWT into stable and catchup groups
stable <- p[which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
test <- p[which(p$isocode %in% c("ETH", "ZAF","BWA")),]
all <- p[which(p$isocode %in% c("USA", "MEX", "DEU","JPN","KOR","CHN")),]
fig <- plot_ly(all, x = ~csh_g, y = ~g10.lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and growth', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-cshg-growth")
fig <- plot_ly(all, x = ~csh_g, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and level of GDP per capita', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
api_create(fig, filename = "pwt-test-chsg-level")
us <- p[which(p$isocode %in% c("USA")),]
fig <- plot_ly(us, x = ~lagyear, y = ~g10.lngdppc, type = 'scatter', mode='lines+markers', colors = "Set1")
fig <- layout(fig, title = list(text = '10-year growth rate', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-cshg-growth")
# Pull PWT into dataframe
data("pwt9.1")
p <- pwt9.1 # copy dataframe for manipulation
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2) # create log GDP per capita
p$ky <- round(p$rnna/p$rgdpna,digits=2) # create K/Y ratio
p$phil <- round(p$labsh*p$rgdpna/(p$labsh*p$rgdpna+.05*p$rnna),digits=2) # create kludge cost share of labor
p <-
p %>%
group_by(isocode) %>%
mutate(lag10.lngdppc = dplyr::lag(lngdppc, n = 10, default = NA))
p$g10.lngdppc <- (p$lngdppc - p$lag10.lngdppc)/10
p$lagyear <- p$year-10
us <- p[which(p$isocode %in% c("USA")),]
fig <- plot_ly(us, x = ~lagyear, y = ~g10.lngdppc, type = 'scatter', mode='lines+markers', colors = "Set1")
fig <- layout(fig, title = list(text = '10-year growth rate', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-cshg-growth")
fig
# Pull PWT into dataframe
data("pwt9.1")
p <- pwt9.1 # copy dataframe for manipulation
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2) # create log GDP per capita
p$ky <- round(p$rnna/p$rgdpna,digits=2) # create K/Y ratio
p$phil <- round(p$labsh*p$rgdpna/(p$labsh*p$rgdpna+.05*p$rnna),digits=2) # create kludge cost share of labor
p <-
p %>%
group_by(isocode) %>%
mutate(lag10.lngdppc = dplyr::lag(lngdppc, n = 10, default = NA))
p$g10.lngdppc <- (p$lngdppc - p$lag10.lngdppc)/10
p$lagyear <- p$year-10
# subset PWT into stable and catchup groups
stable <- p[which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
test <- p[which(p$isocode %in% c("ETH", "ZAF","BWA")),]
all <- p[which(p$isocode %in% c("USA", "MEX", "DEU","JPN","KOR","CHN")),]
fig <- plot_ly(all, x = ~csh_g, y = ~g10.lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and growth', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-cshg-growth")
fig <- plot_ly(all, x = ~csh_g, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and level of GDP per capita', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
api_create(fig, filename = "pwt-test-chsg-level")
us <- p[which(p$isocode %in% c("USA")),]
fig <- plot_ly(us, x = ~lagyear, y = ~g10.lngdppc, type = 'scatter', mode='lines+markers', colors = "Set1")
fig <- layout(fig, title = list(text = '10-year growth rate', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(0,.04)),
hovermode="x unified")
api_create(fig, filename = "pwt-usa-growth-rate")
fig <- plot_ly(all, x = ~csh_x, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Exports and level of GDP per capita', x=0),
xaxis = list(title = 'Exports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
fig
fig <- plot_ly(all, x = ~csh_m, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Exports and level of GDP per capita', x=0),
xaxis = list(title = 'Exports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
fig
# Pull PWT into dataframe
data("pwt9.1")
p <- pwt9.1 # copy dataframe for manipulation
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2) # create log GDP per capita
p$ky <- round(p$rnna/p$rgdpna,digits=2) # create K/Y ratio
p$phil <- round(p$labsh*p$rgdpna/(p$labsh*p$rgdpna+.05*p$rnna),digits=2) # create kludge cost share of labor
p <-
p %>%
group_by(isocode) %>%
mutate(lag10.lngdppc = dplyr::lag(lngdppc, n = 10, default = NA))
p$g10.lngdppc <- (p$lngdppc - p$lag10.lngdppc)/10
p$lagyear <- p$year-10
p$csh_trade <- p$csh_x - p$csh_m
p$csh_mabs <- -1*p$csh_m
stable <- p[which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
test <- p[which(p$isocode %in% c("ETH", "ZAF","BWA")),]
all <- p[which(p$isocode %in% c("USA", "MEX", "DEU","JPN","KOR","CHN")),]
fig <- plot_ly(all, x = ~csh_trade, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Exports and level of GDP per capita', x=0),
xaxis = list(title = 'Exports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
fig
fig <- plot_ly(all, x = ~csh_trade, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Trade and level of GDP per capita', x=0),
xaxis = list(title = '(Exports+Imports) as share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-trade-level")
fig <- plot_ly(all, x = ~csh_x, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Exports and level of GDP per capita', x=0),
xaxis = list(title = 'Exports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-export-level")
fig <- plot_ly(all, x = ~csh_mabs, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Imports and level of GDP per capita', x=0),
xaxis = list(title = 'Imports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovermode="x unified")
api_create(fig, filename = "pwt-all-imports-level")
fig <- plot_ly(all, x = ~csh_mabs, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Imports and level of GDP per capita', x=0),
xaxis = list(title = 'Imports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'),
hovertemplate = paste("<b>%{text}</b><br>",
"%{yaxis.title.text}: %{y:.2f}<br>",
"%{xaxis.title.text}: %{x:.2f}<br>"))
fig
fig <- plot_ly(all, x = ~csh_mabs, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Imports and level of GDP per capita', x=0),
xaxis = list(title = 'Imports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'))
fig
# Pull PWT into dataframe
data("pwt9.1")
p <- pwt9.1 # copy dataframe for manipulation
p$lngdppc <- round(log(p$rgdpna) - log(p$pop),digits=2) # create log GDP per capita
p$ky <- round(p$rnna/p$rgdpna,digits=2) # create K/Y ratio
p$phil <- round(p$labsh*p$rgdpna/(p$labsh*p$rgdpna+.05*p$rnna),digits=2) # create kludge cost share of labor
p <-
p %>%
group_by(isocode) %>%
mutate(lag10.lngdppc = dplyr::lag(lngdppc, n = 10, default = NA))
p$g10.lngdppc <- (p$lngdppc - p$lag10.lngdppc)/10
p$lagyear <- p$year-10
p$csh_trade <- p$csh_x - p$csh_m
p$csh_mabs <- -1*p$csh_m
# subset PWT into stable and catchup groups
stable <- p[which(p$isocode %in% c("USA", "CAN", "MEX", "GBR", "AUS")),]
catchup <- p[which(p$isocode %in% c("USA", "DEU", "JPN", "KOR", "CHN","NGA")),]
test <- p[which(p$isocode %in% c("ETH", "ZAF","BWA")),]
all <- p[which(p$isocode %in% c("USA", "MEX", "DEU","JPN","KOR","CHN")),]
fig <- plot_ly(all, x = ~csh_g, y = ~g10.lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and growth', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = '10-year growth rate'))
api_create(fig, filename = "pwt-all-cshg-growth")
fig <- plot_ly(all, x = ~csh_g, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Government and level of GDP per capita', x=0),
xaxis = list(title = 'Gov. spending share of GDP'),
yaxis = list (title = 'Log GDP per capita'))
api_create(fig, filename = "pwt-test-chsg-level")
us <- p[which(p$isocode %in% c("USA")),]
fig <- plot_ly(us, x = ~lagyear, y = ~g10.lngdppc, type = 'scatter', mode='lines+markers', colors = "Set1")
fig <- layout(fig, title = list(text = '10-year growth rate', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(0,.04)))
api_create(fig, filename = "pwt-usa-growth-rate")
fig <- plot_ly(all, x = ~csh_trade, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Trade and level of GDP per capita', x=0),
xaxis = list(title = '(Exports+Imports) as share of GDP'),
yaxis = list (title = 'Log GDP per capita'))
api_create(fig, filename = "pwt-all-trade-level")
fig <- plot_ly(all, x = ~csh_x, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Exports and level of GDP per capita', x=0),
xaxis = list(title = 'Exports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'))
api_create(fig, filename = "pwt-all-export-level")
fig <- plot_ly(all, x = ~csh_mabs, y = ~lngdppc, color = ~country, type = 'scatter', mode='markers', colors = "Set1")
fig <- layout(fig, title = list(text = 'Imports and level of GDP per capita', x=0),
xaxis = list(title = 'Imports as share of GDP'),
yaxis = list (title = 'Log GDP per capita'))
api_create(fig, filename = "pwt-all-imports-level")
############################
# Figures for log GDP per capita
############################
fig <- plot_ly(test, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig <- layout(fig, title = list(text = 'Log GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)),
hovermode="x unified")
api_create(fig, filename = "pwt-test-lngdppc")
fig <- plot_ly(stable, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig <- layout(fig, title = list(text = 'Log GDP per capita for stable growth countries', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)),
hovermode="x unified")
api_create(fig, filename = "pwt-stable-lngdppc")
fig <- plot_ly(catchup, x = ~year, y = ~lngdppc, linetype = ~country, type = 'scatter', mode = 'lines+markers')
fig <- layout(fig, title = list(text = 'Log GDP per capita for catch-up growth countries', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Log GDP per capita', range=c(6,11)),
hovermode="x unified")
api_create(fig, filename = "pwt-catchup-lngdppc")
